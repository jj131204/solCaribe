<app-layout-component></app-layout-component>
<section class="containerSections">
  <h1 class="title">REPORTE DE RADIACIÓN SOLAR <br> (Departamento-municipios)</h1>

  <div class="filter d-flex gap-5">
    <select name="department" id="" class="department generalShadow borderRadius" [(ngModel)]="selectedDepartment">
        <option disabled selected value="">Selección un departamento</option>
         <option *ngFor="let department of departments" [value]="department">{{ department }}</option>
    </select>
    <div type="submit" class="submitButton generalShadow borderRadius" (click)="sendDepartment()">Buscar</div>
  </div>

  <div class="table-container">
        <table>
            <thead>
                <tr>
                    <th>MUNICIPIO</th>
                    <th class="textOrange">MAYOR RADIACIÓN</th>
                    <th class="textgreen">MEDIANA RADIACIÓN</th>
                    <th class="textRed">BAJA RADIACIÓN</th>
                </tr>
            </thead>
            <tbody>
                @if (municipalities == null) {
                    <tr>
                        <td></td>
                        <td><br></td>
                        <td></td>
                        <td></td>
                    </tr>
                    <tr>
                        <td></td>
                        <td><br></td>
                        <td></td>
                        <td></td>
                    </tr>
                    <tr>
                        <td></td>
                        <td><br></td>
                        <td></td>
                        <td></td>
                    </tr>
                }
                 @if (municipalities != null) {
                    <tr *ngFor="let municipility of municipalities.municipalities">
                        <td>{{municipility.municipio}}</td>
                        <td>{{municipility.max.month}} 2024<br>{{municipility.max.value_kwh}} kWh/m2_dia</td>
                        <td>{{municipility.mean.month}} 2024<br>{{municipility.mean.value_kwh}} kWh/m2_dia</td>
                        <td>{{municipility.min.month}} 2024<br>{{municipility.min.value_kwh}} kWh/m2_dia</td>
                    </tr>
                }
            </tbody>
        </table>
    </div>
    @if (municipalities != null) {
        <div class="d-flex gap-4 containerButtonsExport">
            <div class="buttomExport generalShadow borderRadius" (click)="exportPDF()">Exportar como PDF</div>
            <div class="buttomExport generalShadow borderRadius" (click)="exportExcel()">Exportar como XlSX</div>
        </div>
    }

</section>
